{"version":3,"sources":["components/ShoppingCart/ShoppingCart.module.scss","state/menu/reducers.js","state/menu/actions.js","state/menu/types.js","utils.js","state/menu/selectors.js","state/menu/index.js","state/shared/index.js","state/shared/reducers.js","state/reducers.js","state/store.js","assets/icons/SettingsButton.svg","components/ShoppingCart/Home.js","assets/ico-close-24.svg","components/ShoppingCart/Users.js","components/ShoppingCart/Event.js","api.js","components/ShoppingCart/UserEvent.js","components/ShoppingCart/Settings.js","components/ShoppingCart/NewUser.js","serviceWorker.js","index.js","App.js"],"names":["module","exports","initialState","isAdmin","events","name","dateStart","dateEnd","slug","routes","participants","scores","routeSlug","score","attempt","users","groupAge","district","organization","gender","ages","age","districts","organizations","sector","maxScore","sectors","updateScores","userData","type","payload","createUser","findSlug","arr","find","propEq","getEvents","store","menu","getRoutes","getEventBySlug","getUsers","getIsAdmin","getAges","getOrganizations","getDistricts","getUserBySlug","state","action","loginData","login","password","userSlug","length","map","event","r","part","filterRoute","filter","s","shared","combinedReducer","storage","combineReducers","createStore","intermediateState","devToolsEnhancer","persistor","persistStore","_extends","Object","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","cx","cy","fill","x","y","width","height","rx","transform","fillRule","clipRule","d","_ref","svgRef","title","props","viewBox","ref","ForwardRef","forwardRef","Home","useDispatch","history","useHistory","useSelector","console","log","className","menuBar","onClick","push","left","iconSvg","content","to","card","Date","liveCard","liveBub","Users","useState","search","setSearch","handleCenterClick","e","value","onChange","user","Event","eventId","useParams","rawUsers","rawParticipants","participant","ageSections","onlyUnique","genderSections","totalSection","j","partic","sort","b","a","reduce","prev","current","style","margin","display","justifyContent","placeholder","section","sectionHeader","index","RenderUser","self","postParticipant","dispatch","axios","post","postUser","result","fetchEvents","get","data","fetchUsers","fetchAges","fetchDistricts","fetchOrgs","fetchRoutes","UserEvent","userId","canvasRef","useRef","rawUser","useEffect","QRCode","toCanvas","window","location","origin","pathname","error","rawParticipant","localUser","setLocalUser","filterRoutes","alignItems","id","miniCard","_","ScoreEditor","fr","parseInt","Settings","show","setShow","username","setUsername","setPassword","row","NewUser","selectedAge","setAge","selectedOrg","setOrg","selectedDist","setDist","setName","setGender","disabled","newUser","Boolean","hostname","match","ReactDOM","render","useFetchEvents","eventSource","eventAddNewParticipant","JSON","parse","eventAddNewUser","setupChannel","EventSource","onerror","readyState","CONNECTING","CLOSED","close","setTimeout","onopen","addEventListener","removeEventListener","useOrdersWebsocket","exact","path","component","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","scrollRestoration","preventDefault"],"mappings":"mHACAA,EAAOC,QAAU,CAAC,OAAS,6BAA6B,cAAgB,oCAAoC,aAAe,mCAAmC,WAAa,iCAAiC,YAAc,kCAAkC,OAAS,6BAA6B,KAAO,2BAA2B,MAAQ,4BAA4B,OAAS,6BAA6B,QAAU,8BAA8B,UAAY,gCAAgC,MAAQ,4BAA4B,EAAI,wBAAwB,IAAM,0BAA0B,gBAAkB,sCAAsC,UAAY,gCAAgC,KAAO,2BAA2B,MAAQ,4BAA4B,MAAQ,4BAA4B,MAAQ,4BAA4B,MAAQ,4BAA4B,KAAO,2BAA2B,KAAO,2BAA2B,MAAQ,4BAA4B,SAAW,+BAA+B,MAAQ,4BAA4B,QAAU,8BAA8B,UAAY,gCAAgC,OAAS,6BAA6B,IAAM,0BAA0B,SAAW,+BAA+B,IAAM,0BAA0B,WAAa,iCAAiC,GAAK,yBAAyB,MAAQ,4BAA4B,MAAQ,4BAA4B,MAAQ,4BAA4B,OAAS,6BAA6B,QAAU,8BAA8B,KAAO,2BAA2B,SAAW,+BAA+B,QAAU,8BAA8B,OAAS,6BAA6B,YAAc,kCAAkC,iBAAmB,uCAAuC,UAAY,gCAAgC,aAAe,mCAAmC,KAAO,2BAA2B,YAAc,kCAAkC,UAAY,gCAAgC,SAAW,+BAA+B,QAAU,8BAA8B,SAAW,+BAA+B,UAAY,gCAAgC,WAAa,iCAAiC,WAAW,+BAA+B,YAAc,kCAAkC,aAAe,mCAAmC,YAAc,kCAAkC,gBAAkB,sCAAsC,WAAa,iCAAiC,SAAW,+BAA+B,QAAU,8BAA8B,KAAO,2BAA2B,MAAQ,4BAA4B,KAAO,2BAA2B,SAAW,+BAA+B,QAAU,8BAA8B,SAAW,+BAA+B,IAAM,0BAA0B,MAAQ,4BAA4B,QAAU,8BAA8B,cAAgB,sC,6qBCW33F,IAAMC,EAAe,CAE1BC,SAAS,EACTC,OAAQ,CACN,CACEC,KAAM,2MACNC,UAAW,2BACXC,QAAS,2BACTC,KAAM,SACNC,OAAQ,CAAC,IAAK,IAAK,KACnBC,aAAc,CACZ,CACEF,KAAM,IACNG,OAAQ,CACN,CACEC,UAAW,IACXC,MAAO,EACPC,QAAS,GAEX,CACEF,UAAW,IACXC,MAAO,EACPC,QAAS,GAEX,CACEF,UAAW,IACXC,MAAO,EACPC,QAAS,KAIf,CACEN,KAAM,IACNG,OAAQ,CACN,CACEC,UAAW,IACXC,MAAO,EACPC,QAAS,GAEX,CACEF,UAAW,IACXC,MAAO,EACPC,QAAS,KAIf,CACEN,KAAM,IACNG,OAAQ,CACN,CACEC,UAAW,IACXC,MAAO,EACPC,QAAS,GAEX,CACEF,UAAW,IACXC,MAAO,EACPC,QAAS,KAIf,CACEN,KAAM,IACNG,OAAQ,CACN,CACEC,UAAW,IACXC,MAAO,EACPC,QAAS,GAEX,CACEF,UAAW,IACXC,MAAO,EACPC,QAAS,KAIf,CACEN,KAAM,IACNG,OAAQ,CACN,CACEC,UAAW,IACXC,MAAO,EACPC,QAAS,GAEX,CACEF,UAAW,IACXC,MAAO,EACPC,QAAS,KAIf,CACEN,KAAM,IACNG,OAAQ,CACN,CACEC,UAAW,IACXC,MAAO,GACPC,QAAS,GAEX,CACEF,UAAW,IACXC,MAAO,GACPC,QAAS,OAMnB,CACET,KAAM,iNACNC,UAAW,2BACXC,QAAS,2BACTC,KAAM,SACNC,OAAQ,CAAC,IAAK,IAAK,KACnBC,aAAc,KAGlBK,MAAO,CACL,CACEP,KAAM,IACNH,KAAM,eACNW,SAAU,IACVC,SAAU,IACVC,aAAc,IACdC,OAAQ,OACRR,OAAQ,IAEV,CACEH,KAAM,IACNH,KAAM,cACNW,SAAU,IACVC,SAAU,IACVC,aAAc,IACdC,OAAQ,OACRR,OAAQ,IAEV,CACEH,KAAM,IACNH,KAAM,eACNW,SAAU,IACVC,SAAU,IACVC,aAAc,IACdC,OAAQ,OACRR,OAAQ,IAEV,CACEH,KAAM,IACNH,KAAM,mBACNW,SAAU,IACVC,SAAU,IACVC,aAAc,IACdC,OAAQ,OACRR,OAAQ,IAEV,CACEH,KAAM,IACNH,KAAM,oBACNW,SAAU,IACVC,SAAU,IACVC,aAAc,IACdC,OAAQ,OACRR,OAAQ,IAEV,CACEH,KAAM,IACNH,KAAM,oBACNW,SAAU,IACVC,SAAU,IACVC,aAAc,IACdC,OAAQ,OACRR,OAAQ,KAGZS,KAAM,CACJ,CACEZ,KAAM,IACNa,IAAK,aAEP,CACEb,KAAM,IACNa,IAAK,cAGTC,UAAW,CACT,CACEd,KAAM,IACNH,KAAM,WAER,CACEG,KAAM,IACNH,KAAM,YAGVkB,cAAe,CACb,CACEf,KAAM,IACNH,KAAM,mBAER,CACEG,KAAM,IACNH,KAAM,mBAER,CACEG,KAAM,IACNH,KAAM,oBAGVI,OAAQ,CACN,CACED,KAAM,IACNH,KAAM,IACNmB,OAAQ,MACRC,SAAU,IAEZ,CACEjB,KAAM,IACNH,KAAM,IACNmB,OAAQ,MACRC,SAAU,IAEZ,CACEjB,KAAM,IACNH,KAAM,IACNmB,OAAQ,MACRC,SAAU,IAEZ,CACEjB,KAAM,IACNH,KAAM,IACNmB,OAAQ,MACRC,SAAU,IAEZ,CACEjB,KAAM,IACNH,KAAM,IACNmB,OAAQ,MACRC,SAAU,IAEZ,CACEjB,KAAM,IACNH,KAAM,IACNmB,OAAQ,MACRC,SAAU,KAGdC,QAAS,CACP,CACElB,KAAM,MACNH,KAAM,OAER,CACEG,KAAM,MACNH,KAAM,SAER,CACEG,KAAM,MACNH,KAAM,QAER,CACEG,KAAM,MACNH,KAAM,WC/PCsB,EAAe,SAAAC,GAAQ,MAAK,CACvCC,KCd2B,gBDe3BC,QAAS,CAAEF,cAGAG,EAAa,SAAAH,GAAQ,MAAK,CACrCC,KCvByB,cDwBzBC,QAAS,CAAEF,c,kBEpBAI,EAAW,SAACxB,EAAMyB,GAAP,OAAeC,YAAKC,YAAO,OAAQ3B,GAAOyB,ICDrDG,EAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKlC,QAChCmC,EAAY,SAAAF,GAAK,OAAIA,EAAMC,KAAK7B,QAChC+B,EAAiB,SAAAH,GAAK,OAAI,SAAA7B,GAAI,OAAIwB,EAASxB,EAAM6B,EAAMC,KAAKlC,UAC5DqC,EAAW,SAAAJ,GAAK,OAAIA,EAAMC,KAAKvB,OAC/B2B,EAAa,SAAAL,GAAK,OAAIA,EAAMC,KAAKnC,SACjCwC,EAAU,SAAAN,GAAK,OAAIA,EAAMC,KAAKlB,MAC9BwB,EAAmB,SAAAP,GAAK,OAAIA,EAAMC,KAAKf,eACvCsB,EAAe,SAAAR,GAAK,OAAIA,EAAMC,KAAKhB,WACnCwB,EAAgB,SAAAT,GAAK,OAAI,SAAA7B,GAAI,OAAIwB,EAASxB,EAAM6B,EAAMC,KAAKvB,SCNzDuB,ELgRA,WAAwC,IAA/BS,EAA8B,uDAAtB7C,EAAc8C,EAAQ,uCACpD,OAAQA,EAAOnB,MACb,IEtRsB,aFsRJ,IACRzB,EAAW4C,EAAOlB,QAAlB1B,OACR,OAAO,EAAP,GACK2C,EADL,CAEE3C,WAIJ,IE7RqB,YF6RJ,IACPW,EAAUiC,EAAOlB,QAAjBf,MACR,OAAO,EAAP,GACKgC,EADL,CAEEhC,UAIJ,IEhSoB,WFgSJ,IACNK,EAAS4B,EAAOlB,QAAhBV,KACR,OAAO,EAAP,GACK2B,EADL,CAEE3B,SAIJ,IEvSyB,gBFuSJ,IACXE,EAAc0B,EAAOlB,QAArBR,UACR,OAAO,EAAP,GACKyB,EADL,CAEEzB,cAIJ,IE9SoB,WF8SJ,IACNC,EAAkByB,EAAOlB,QAAzBP,cACR,OAAO,EAAP,GACKwB,EADL,CAEExB,kBAIJ,IEzTsB,aFyTJ,IACRd,EAAWuC,EAAOlB,QAAlBrB,OACR,OAAO,EAAP,GACKsC,EADL,CAEEtC,WAIJ,IE7T0B,iBF6TJ,IACZwC,EAAcD,EAAOlB,QAArBmB,UACJ9C,GAAU,EAId,MAHwB,uBAApB8C,EAAUC,OAAyD,UAAvBD,EAAUE,WACxDhD,GAAU,GAEL,EAAP,GACK4C,EADL,CAEE5C,YAIJ,IEnVuB,cFmVJ,IACTyB,EAAaoB,EAAOlB,QAApBF,SACFwB,EAAWL,EAAMhC,MAAMsC,OAAS,EAAI,GAE1C,OAAO,EAAP,GACKN,EADL,CAEEhC,MAAM,GAAD,mBAAMgC,EAAMhC,OAAZ,MAAwBa,EAAxB,CAAkCjB,OAAQ,GAAIH,KAAM4C,MACzDhD,OAAQ2C,EAAM3C,OAAOkD,KAAI,SAAAC,GAAK,OAC5BA,EAAM/C,OAASoB,EAAS2B,MAAxB,KAESA,EAFT,CAGM7C,aAAa,GAAD,mBACP6C,EAAM7C,cADC,CAEV,CACEF,KAAM4C,EACNzC,OAAQ4C,EAAM9C,OAAO6C,KAAI,SAAAE,GACvB,MAAO,CAAE5C,UAAW4C,EAAG3C,MAAO,EAAGC,QAAS,WAYlDyC,OAKV,IEhXyB,gBFgXJ,IACX3B,EAAaoB,EAAOlB,QAApBF,SACFwB,EAAWxB,EAASpB,KAE1B,OAAO,EAAP,GACKuC,EADL,CAEE3C,OAAQ2C,EAAM3C,OAAOkD,KAAI,SAAAC,GAAK,OAC5BA,EAAM/C,OAASoB,EAAS2B,MAAxB,KAESA,EAFT,CAGM7C,aAAc6C,EAAM7C,aAAa4C,KAAI,SAAAG,GAAI,OACvCA,EAAKjD,OAAS4C,EACV,CACE5C,KAAM4C,EACNzC,OAAQ8C,EAAK9C,OAAO2C,KAAI,SAAAE,GACtB,IAAME,EAAc9B,EAASjB,OAAOgD,QAAO,SAAAC,GAAC,OAAIA,EAAEhD,YAAc4C,EAAE5C,aAClE,OAAI8C,EAAYL,OAAS,EAChBK,EAAY,GAEZF,MAIbC,OAGRF,OAKV,QACE,OAAOR,IMhZEc,ECDA,SAASd,EAAOC,GAGzB,OAFIA,EAAOnB,KAEJkB,G,QCIPe,G,OAHJC,EAGsBC,0BAAgB,CACtC1B,U,QCJED,EAAQ4B,uBDOe,SAAClB,EAAOC,GACjC,IAAMkB,EAAoBJ,EAAgBf,EAAOC,GAEjD,OADmBa,EAAOK,EAAmBlB,KCTVmB,8BAGtB,GAAE9B,QAAO+B,UAFRC,YAAahC,I,wCCR7B,SAASiC,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUtB,OAAQqB,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcL,OAAOO,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,OAAOJ,IAA2BQ,MAAMC,KAAMP,WAEhT,SAASQ,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnED,EAEzF,SAAuCG,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DD,EAAS,GAAQY,EAAad,OAAOe,KAAKV,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAWhC,OAAQqB,IAAOG,EAAMQ,EAAWX,GAAQU,EAASG,QAAQV,IAAQ,IAAaJ,EAAOI,GAAOD,EAAOC,IAAQ,OAAOJ,EAFxMe,CAA8BZ,EAAQQ,GAAuB,GAAIb,OAAOkB,sBAAuB,CAAE,IAAIC,EAAmBnB,OAAOkB,sBAAsBb,GAAS,IAAKF,EAAI,EAAGA,EAAIgB,EAAiBrC,OAAQqB,IAAOG,EAAMa,EAAiBhB,GAAQU,EAASG,QAAQV,IAAQ,GAAkBN,OAAOO,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBJ,EAAOI,GAAOD,EAAOC,IAAU,OAAOJ,EAMne,IAAI,EAEJ,IAAMmB,cAAc,SAAU,CAC5BC,GAAI,QACJC,GAAI,OACJtC,EAAG,OACHuC,KAAM,UAGJ,EAEJ,IAAMH,cAAc,OAAQ,CAC1BI,EAAG,QACHC,EAAG,QACHC,MAAO,EACPC,OAAQ,EACRC,GAAI,EACJC,UAAW,6BACXN,KAAM,UAGJ,EAEJ,IAAMH,cAAc,OAAQ,CAC1BI,EAAG,QACHC,EAAG,QACHC,MAAO,EACPC,OAAQ,EACRC,GAAI,EACJC,UAAW,6BACXN,KAAM,UAGJ,EAEJ,IAAMH,cAAc,OAAQ,CAC1BI,EAAG,QACHC,EAAG,QACHC,MAAO,EACPC,OAAQ,EACRC,GAAI,EACJC,UAAW,6BACXN,KAAM,UAGJ,EAEJ,IAAMH,cAAc,OAAQ,CAC1BU,SAAU,UACVC,SAAU,UACVC,EAAG,sJACHT,KAAM,UAGJ,EAEJ,IAAMH,cAAc,OAAQ,CAC1BU,SAAU,UACVC,SAAU,UACVC,EAAG,sJACHT,KAAM,UAGJ,EAEJ,IAAMH,cAAc,OAAQ,CAC1BU,SAAU,UACVC,SAAU,UACVC,EAAG,yGACHT,KAAM,UAGJ,EAAoB,SAA2BU,GACjD,IAAIC,EAASD,EAAKC,OACdC,EAAQF,EAAKE,MACbC,EAAQzB,EAAyBsB,EAAM,CAAC,SAAU,UAEtD,OAAO,IAAMb,cAAc,MAAOtB,EAAS,CACzC4B,MAAO,GACPC,OAAQ,GACRU,QAAS,YACTd,KAAM,OACNe,IAAKJ,GACJE,GAAQD,EAAQ,IAAMf,cAAc,QAAS,KAAMe,GAAS,KAAM,EAAO,EAAO,EAAO,EAAO,EAAO,EAAO,IAG7GI,EAAa,IAAMC,YAAW,SAAUJ,EAAOE,GACjD,OAAO,IAAMlB,cAAc,EAAmBtB,EAAS,CACrDoC,OAAQI,GACPF,OCzFQK,GD2FE,IC3FK,SAAAL,GACDM,cAAjB,IAEMC,EAAUC,cAEVhH,EAASiH,YAAYjF,GAE3BkF,QAAQC,IAAI,QAaZ,OACE,oCACE,yBAAKC,UAAW5D,IAAE6D,SAChB,yBAAKC,QAda,WACtBP,EAAQQ,KAAR,cAamCH,UAAW5D,IAAEgE,MAC1C,kBAAC,EAAD,CAAcJ,UAAW5D,IAAEiE,WAE7B,yBAAKH,QAbe,WACxBP,EAAQQ,KAAR,OAYI,sGAKF,yBAAKH,UAAW5D,IAAEkE,SACf1H,EAAOkD,KAAI,SAAAC,GAAK,OACf,kBAAC,IAAD,CAAMsB,IAAKtB,EAAM/C,KAAMuH,GAAE,iBAAYxE,EAAM/C,MAAQgH,UAAW5D,IAAEoE,MAC9D,6BAAMzE,EAAMlD,MACX,IAAI4H,KAAS,IAAIA,KAAK1E,EAAMjD,WAAa,GAAK,IAAI2H,KAAS,IAAIA,KAAK1E,EAAMhD,SAAW,EACpF,yBAAKiH,UAAW5D,IAAEsE,UAChB,yBAAKV,UAAW5D,IAAEuE,UAClB,sCAGF,W,OCjDd,SAAS,IAA2Q,OAA9P,EAAW5D,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUtB,OAAQqB,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAcL,OAAOO,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,IAAY,OAAOJ,IAA2BQ,MAAMC,KAAMP,WAEhT,SAAS,GAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnED,EAEzF,SAAuCG,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DD,EAAS,GAAQY,EAAad,OAAOe,KAAKV,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAWhC,OAAQqB,IAAOG,EAAMQ,EAAWX,GAAQU,EAASG,QAAQV,IAAQ,IAAaJ,EAAOI,GAAOD,EAAOC,IAAQ,OAAOJ,EAFxM,CAA8BG,EAAQQ,GAAuB,GAAIb,OAAOkB,sBAAuB,CAAE,IAAIC,EAAmBnB,OAAOkB,sBAAsBb,GAAS,IAAKF,EAAI,EAAGA,EAAIgB,EAAiBrC,OAAQqB,IAAOG,EAAMa,EAAiBhB,GAAQU,EAASG,QAAQV,IAAQ,GAAkBN,OAAOO,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBJ,EAAOI,GAAOD,EAAOC,IAAU,OAAOJ,EAMne,IAAI,GAEJ,IAAMmB,cAAc,OAAQ,CAC1BU,SAAU,UACVC,SAAU,UACVC,EAAG,2MAGD,GAAgB,SAAuBC,GACzC,IAAIC,EAASD,EAAKC,OACdC,EAAQF,EAAKE,MACbC,EAAQ,GAAyBH,EAAM,CAAC,SAAU,UAEtD,OAAO,IAAMb,cAAc,MAAO,EAAS,CACzCM,MAAO,GACPC,OAAQ,GACRU,QAAS,YACTd,KAAM,UACNe,IAAKJ,GACJE,GAAQD,EAAQ,IAAMf,cAAc,QAAS,KAAMe,GAAS,KAAM,KAGnE,GAAa,IAAMK,YAAW,SAAUJ,EAAOE,GACjD,OAAO,IAAMlB,cAAc,GAAe,EAAS,CACjDc,OAAQI,GACPF,OCvBQwB,IDyBE,ICzBM,SAAAxB,GACFM,cAAjB,IAEMC,EAAUC,cAHY,EAKAiB,mBAAS,IALT,mBAKrBC,EALqB,KAKbC,EALa,KActBC,EAAoB,WACxBrB,EAAQQ,KAAR,MAGI5G,EAVWsG,YAAY5E,GAUNkB,QAAO,SAAA8E,GAAC,OAAIA,EAAEpI,KAAKkF,QAAQ+C,IAAW,KAE7D,OACE,oCACE,yBAAKd,UAAW5D,IAAE6D,SAChB,yBAAKC,QAASc,EAAmBhB,UAAW5D,IAAEgE,MAC5C,kBAAC,GAAD,CAAWJ,UAAW5D,IAAEiE,WAE1B,yBAAKH,QAASc,GAAd,0DACA,+BAEF,yBAAKhB,UAAW5D,IAAEkE,SAChB,2BAAOY,MAAOJ,EAAQK,SAAU,SAAAF,GAAC,OAAIF,EAAUE,EAAEhE,OAAOiE,UACvD3H,EAAMuC,KAAI,SAAAsF,GAAI,OACb,kBAAC,IAAD,CAAM/D,IAAK+D,EAAKpI,KAAMuH,GAAE,gBAAWa,EAAKpI,MAAQgH,UAAW5D,IAAEoE,MAC3D,6BACGY,EAAKvI,KADR,KACgBuI,EAAK5H,SADrB,a,6jBCzBL,IAAM6H,GAAQ,SAAAjC,GACFM,cAwBjB,IAxBA,IACM/G,EAAUkH,YAAY3E,GAEtByE,EAAUC,cAJY,EAMAiB,mBAAS,IANT,mBAMrBC,EANqB,KAMbC,EANa,KAOpBO,EAAYC,cAAZD,QACFvF,EAAQ8D,YAAY7E,EAAZ6E,CAA4ByB,GACpC1H,EAAOiG,YAAY1E,GAEnBqG,GADgB3B,YAAYzE,GACjByE,YAAY5E,IAGvBwG,GAFS5B,YAAY9E,GAEHyG,EACrBrF,QAAO,SAAAiF,GAAI,OAAIrF,EAAM7C,aAAaiD,QAAO,SAAAuF,GAAW,OAAIA,EAAY1I,OAASoI,EAAKpI,QAAM6C,OAAS,KACjGC,KAAI,SAAAsF,GACH,OAAO,MAAKA,EAAZ,CAAkB5H,SAAUI,EAAKuC,QAAO,SAAAtC,GAAG,OAAIA,EAAIb,OAASoI,EAAK5H,YAAU,GAAGK,UAG5E8H,EAAcF,EAAgB3F,KAAI,SAAAsF,GAAI,OAAIA,EAAK5H,YAAU2C,OAAOyF,IAChEC,EAAiBJ,EAAgB3F,KAAI,SAAAsF,GAAI,OAAIA,EAAKzH,UAAQwC,OAAOyF,IAEnEE,EAAe,GAEV5E,EAAI,EAAGA,EAAIyE,EAAY9F,OAAQqB,IACtC,IAAK,IAAI6E,EAAI,EAAGA,EAAIF,EAAehG,OAAQkG,IACzCD,EAAa3B,KAAK,CAChBtG,IAAK8H,EAAYzE,GACjBvD,OAAQkI,EAAeE,KAK7B,IAAMxI,EAAQkI,EACX3F,KAAI,SAAAsF,GACH,IAAMY,EAASjG,EAAM7C,aAAaiD,QAAO,SAAAuF,GAAW,OAAIA,EAAY1I,OAASoI,EAAKpI,QAAM,GACxF,OAAO,MAAKoI,EAAZ,CAAkBjI,OAAQ6I,EAAO7I,YAElC8I,MAAK,SAACC,EAAGC,GAOR,OANeA,EAAEhJ,OAAOiJ,QAAO,SAACC,EAAMC,GACpC,OAAOD,EAAOC,EAAQjJ,QACrB,GACY6I,EAAE/I,OAAOiJ,QAAO,SAACC,EAAMC,GACpC,OAAOD,EAAOC,EAAQjJ,QACrB,MAQD2H,EAAoB,WACxBrB,EAAQQ,KAAR,MAGF,OACE,oCACE,yBAAKH,UAAW5D,IAAE6D,SAChB,yBAAKC,QAASc,EAAmBhB,UAAW5D,IAAEgE,MAC5C,kBAAC,GAAD,CAAWJ,UAAW5D,IAAEiE,WAE1B,yBAAKH,QAASc,GAAd,0DACA,+BAEF,yBAAKhB,UAAW5D,IAAEkE,SAChB,yBAAKiC,MAAO,CAAEC,OAAQ,WAAYC,QAAS,OAAQC,eAAgB,WAAa3G,EAAMlD,MACtF,2BAAOqI,MAAOJ,EAAQK,SAAU,SAAAF,GAAC,OAAIF,EAAUE,EAAEhE,OAAOiE,QAAQyB,YAAa,sIAC5EhK,EACC,kBAAC,IAAD,CAAM4H,GAAE,iBAAYe,EAAZ,YAA+BtB,UAAW5D,IAAEV,OAApD,2GAIA,GAEDoG,EAAahG,KAAI,SAAA8G,GAAO,OACvB,yBAAK5C,UAAW5D,IAAEwG,SAChB,yBAAK5C,UAAW5D,IAAEyG,eACfD,EAAQ/I,IADX,IACoC,SAAnB+I,EAAQjJ,OAAoB,mDAAa,8CAEzDJ,EACE4C,QAAO,SAAAiF,GAAI,OAAIA,EAAK5H,WAAaoJ,EAAQ/I,KAAOuH,EAAKzH,SAAWiJ,EAAQjJ,UACxEmC,KAAI,SAACsF,EAAM0B,GAAP,OACH,kBAAC,GAAD,CAAYhC,OAAQA,EAAQzD,IAAKyF,EAAOA,MAAOA,EAAO1B,KAAMA,EAAME,QAASA,cASrFyB,GAAa,SAAC,GAAD,IAAG3B,EAAH,EAAGA,KAAME,EAAT,EAASA,QAASwB,EAAlB,EAAkBA,MAAOhC,EAAzB,EAAyBA,OAAzB,OACjB,kBAAC,IAAD,CACEyB,MAAO,CAAEE,QAASrB,EAAKvI,KAAKkF,QAAQ+C,IAAW,EAAI,QAAU,QAC7DzD,IAAK+D,EAAKpI,KACVuH,GAAE,iBAAYe,EAAZ,iBAA4BF,EAAKpI,MACnCgH,UAAW5D,IAAEoE,MAEb,6BACGsC,EAAQ,EADX,IACe1B,EAAKvI,KADpB,KAC4BuI,EAAK5H,SADjC,KAUA,8FACe,IACZ4H,EAAKjI,OAAOiJ,QAAO,SAACC,EAAMC,GACzB,OAAOD,EAAOC,EAAQjJ,QACrB,MAKT,SAASuI,GAAWV,EAAO4B,EAAOE,GAChC,OAAOA,EAAKjF,QAAQmD,KAAW4B,E,qoBCzH1B,IAAMG,GAAe,yCAAG,WAAOC,EAAU5I,GAAjB,UAAA6H,EAAA,sEACRgB,KAAMC,KAAN,0BAAsC,CACzDpK,KAAMsB,EAAQtB,KACdoI,KAAM9G,EAAQ8G,OAHa,cAK7B8B,EAAS/I,EAAa,MAAKG,EAAQ8G,KAAd,CAAoBrF,MAAOzB,EAAQtB,SAL3B,2CAAH,wDAQfqK,GAAQ,yCAAG,WAAOH,EAAU5I,GAAjB,gBAAA6H,EAAA,sEACDgB,KAAMC,KAAN,YAAwB,CAC3CvK,KAAMyB,EAAQzB,KACdW,SAAUc,EAAQd,SAClBC,SAAUa,EAAQb,SAClBC,aAAcY,EAAQZ,aACtBC,OAAQW,EAAQX,SANI,OAChB2J,EADgB,OAQtBJ,EAAS3I,EAAWD,IACpB2I,GAAgBC,EAAU,CACxB9B,KAAM,CACJpI,KAAMsK,EACNnK,OAAQmB,EAAQgJ,QAElBtK,KAAMsB,EAAQgH,UAdM,2CAAH,wDA+BRiC,GAAW,yCAAG,WAAML,GAAN,gBAAAf,EAAA,sEACJgB,KAAMK,IAAN,cADI,OACnBF,EADmB,OAEzBxD,QAAQC,IAAIuD,GACZJ,EdhCkC,CAClC7I,KC3BwB,aD4BxBC,QAAS,CAAE1B,Oc8BQ0K,EAAOG,QAHD,2CAAH,sDAMXC,GAAU,yCAAG,WAAMR,GAAN,gBAAAf,EAAA,sEACHgB,KAAMK,IAAN,aADG,OAClBF,EADkB,OAExBxD,QAAQC,IAAIuD,GACZJ,EdjCgC,CAChC7I,KC/BuB,YDgCvBC,QAAS,CAAEf,Mc+BO+J,EAAOG,QAHD,2CAAH,sDAMVE,GAAS,yCAAG,WAAMT,GAAN,gBAAAf,EAAA,sEACFgB,KAAMK,IAAN,YADE,OACjBF,EADiB,OAEvBxD,QAAQC,IAAIuD,GACZJ,EdlC8B,CAC9B7I,KC/BsB,WDgCtBC,QAAS,CAAEV,KcgCM0J,EAAOG,QAHD,2CAAH,sDAMTG,GAAc,yCAAG,WAAMV,GAAN,gBAAAf,EAAA,sEACPgB,KAAMK,IAAN,iBADO,OACtBF,EADsB,OAE5BxD,QAAQC,IAAIuD,GACZJ,EdnCwC,CACxC7I,KCnC2B,gBDoC3BC,QAAS,CAAER,UciCWwJ,EAAOG,QAHD,2CAAH,sDAMdI,GAAS,yCAAG,WAAMX,GAAN,gBAAAf,EAAA,sEACFgB,KAAMK,IAAN,qBADE,OACjBF,EADiB,OAEvBxD,QAAQC,IAAIuD,GACZJ,EdpCgD,CAChD7I,KCvCsB,WDwCtBC,QAAS,CAAEP,cckCeuJ,EAAOG,QAHV,2CAAH,sDAMTK,GAAW,yCAAG,WAAMZ,GAAN,gBAAAf,EAAA,sEACJgB,KAAMK,IAAN,cADI,OACnBF,EADmB,OAEzBxD,QAAQC,IAAIuD,GACZJ,EdrCkC,CAClC7I,KC/CwB,aDgDxBC,QAAS,CAAErB,OcmCQqK,EAAOG,QAHD,2CAAH,sD,6jBCjEjB,IAAMM,GAAY,SAAA3E,GACvB,IAAM8D,EAAWxD,cAEXC,EAAUC,cAHgB,EAKJiB,mBAAS,IALL,mBAKzBC,EALyB,aAMJS,eAApBD,EANwB,EAMxBA,QAAS0C,EANe,EAMfA,OACXC,EAAYC,mBACZnI,EAAQ8D,YAAY7E,EAAZ6E,CAA4ByB,GACpC6C,EAAUtE,YAAYvE,EAAZuE,CAA2BmE,GACrC/K,EAAS4G,YAAY9E,GACrBpC,EAAUkH,YAAY3E,GACtBtB,EAAOiG,YAAY1E,GAEzBiJ,qBAAU,WACRC,KAAOC,SAASL,EAAU3B,QAA1B,UAAsCiC,OAAOC,SAASC,QAAtD,OAA+DF,OAAOC,SAASE,WAAY,SAASC,GAC9FA,GAAO7E,QAAQ6E,MAAMA,GACzB7E,QAAQC,IAAI,iBAEb,IAEH,IAAM6E,EAAiB7I,EAAM7C,aAAaiD,QAAO,SAAAuF,GAAW,OAAIA,EAAY1I,OAASgL,KAC/E5C,EACJwD,EAAe/I,OAAS,EAAxB,MACSsI,EADT,GACqBS,EAAe,GADpC,CACwCpL,SAAUI,EAAKuC,QAAO,SAAAtC,GAAG,OAAIA,EAAIb,OAASmL,EAAQ3K,YAAU,GAAGK,MACnG,GAzB0B,EA0BEgH,mBAASO,GA1BX,mBA0BzByD,EA1ByB,KA0BdC,EA1Bc,KA2BhC,GAA8B,IAA1BF,EAAe/I,OAAc,OAAO,KAExC,IAQMkJ,EAAe9L,EAAOkD,QAAO,SAAAH,GAAC,OAAIA,EAAEnD,KAAKkF,QAAQ+C,IAAW,KAGlE,OADAhB,QAAQC,IAAIqB,GAEV,oCACE,yBAAKpB,UAAW5D,IAAE6D,SAChB,yBAAKC,QAVe,WACxBP,EAAQQ,KAAR,iBAAuBmB,KASctB,UAAW5D,IAAEgE,MAC5C,kBAAC,GAAD,CAAWJ,UAAW5D,IAAEiE,WAE1B,6BACGe,EAAKvI,KADR,KACgBuI,EAAK5H,SADrB,KAGA,+BAEF,yBAAKwG,UAAW5D,IAAEkE,SAEhB,yBAAKN,UAAW5D,IAAEoE,MAChB,yBAAK+B,MAAO,CAAEE,QAAS,OAAQC,eAAgB,gBAAiBsC,WAAY,eAC1E,6BACG5D,EAAKvI,KADR,KACgBuI,EAAK5H,SADrB,KAGA,6BACE,4BAAQ8F,IAAK2E,EAAWgB,GAAI,iBAGhC,yBAAKjF,UAAW5D,IAAE8I,UAChB,qEACA,+DACA,4EAEF,kBAAC,GAAD,CACEL,UAAWA,EACXC,aAAcA,EACdnM,QAASA,EACTyI,KAAMA,EACN2D,aAAcA,EACd9L,OAAQA,IAETN,EACC,yBACEuH,QAAS,SAAAiF,GAEPlC,GAAgBC,EAAU,CAAE9B,KAAMyD,EAAW7L,KAAMsI,IACnD3B,EAAQQ,KAAR,iBAAuBmB,KAEzBtB,UAAW5D,IAAEV,OANf,oDAWA,OAQN0J,GAAc,SAAC,GAAsE,IAApEhE,EAAmE,EAAnEA,KAAM2D,EAA6D,EAA7DA,aAAc9L,EAA+C,EAA/CA,OAAQN,EAAuC,EAAvCA,QAASkM,EAA8B,EAA9BA,UAAWC,EAAmB,EAAnBA,aAMrE,OAHgB,IAAZnM,GACWyI,EAERyD,EAAU1L,OACdgD,QAAO,SAAA9C,GAAK,OAAI0L,EAAa5I,QAAO,SAAAkJ,GAAE,OAAIhM,EAAMD,YAAciM,EAAGrM,QAAM6C,OAAS,KAChFC,KAAI,SAACzC,EAAOyJ,GACX,OACE,yBAAKzF,IAAKyF,EAAO9C,UAAW5D,IAAE8I,UAC5B,6BAAMjM,EAAOkD,QAAO,SAAA8E,GAAC,OAAIA,EAAEjI,OAASK,EAAMD,aAAW,GAAGP,KAAxD,KACEF,EAGA,2BACEuI,MAAO7H,EAAMA,MACb8H,SAAU,SAAAgE,GAERL,EAAa,MACRD,EADO,CAEV1L,OAAQ0L,EAAU1L,OAAO2C,KAAI,SAAAmF,GAE3B,OAAIA,EAAE7H,YAAcC,EAAMD,UACjB,MAAK6H,EAAZ,CAAe5H,MAAOiM,SAASH,EAAElI,OAAOiE,SAEjCD,WAbjB,6BAAM5H,EAAMA,OAoBZV,EAGA,2BACEuI,MAAO7H,EAAMC,QACb6H,SAAU,SAAAgE,GAAC,OACTL,EAAa,MACRD,EADO,CAEV1L,OAAQ0L,EAAU1L,OAAO2C,KAAI,SAAAmF,GAAC,OAC5BA,EAAE7H,YAAcC,EAAMD,UAAtB,MAAuC6H,EAAvC,CAA0C3H,QAASgM,SAASH,EAAElI,OAAOiE,SAAWD,WARxF,6BAAM5H,EAAMC,cC7IXiM,GAAW,SAAAnG,GAAS,MAKPyB,oBAAS,GALF,mBAKxB2E,EALwB,KAKlBC,EALkB,OAMC5E,mBAAS,IANV,mBAMxB6E,EANwB,KAMdC,EANc,OAOC9E,mBAAS,IAPV,mBAOxBlF,EAPwB,KAOdiK,EAPc,KAQzB1C,EAAWxD,cAEXC,EAAUC,cAShB,OACE,oCACE,yBAAKI,UAAW5D,IAAE6D,SAChB,yBAAKC,QAVa,WACtBP,EAAQQ,KAAR,MASmCH,UAAW5D,IAAEgE,MAC1C,kBAAC,GAAD,CAAWJ,UAAW5D,IAAEiE,WAE1B,uFACA,+BAEF,yBAAKkC,MAAO,CAAEyC,WAAY,UAAYhF,UAAW5D,IAAEkE,SACjD,yBACEN,UAAW5D,IAAEyJ,IACb3F,QAAS,SAAAiF,GAAC,OAAIM,GAASD,IACvBjD,MAAO,CAAEE,QAAS,OAAQuC,WAAY,SAAUtC,eAAgB,WAHlE,oIAOC8C,EACC,2BAAO7C,YAAa,QAAS3C,UAAW5D,IAAEyJ,IAAK3E,MAAOwE,EAAUvE,SAAU,SAAAgE,GAAC,OAAIQ,EAAYR,EAAElI,OAAOiE,UAEpG,GAEDsE,EACC,2BACE7C,YAAa,WACbtI,KAAM,WACN2F,UAAW5D,IAAEyJ,IACb3E,MAAOvF,EACPwF,SAAU,SAAAgE,GAAC,OAAIS,EAAYT,EAAElI,OAAOiE,UAGtC,GAEDsE,GAAQE,EAAS7J,OAAS,EACzB,yBACEqE,QAAS,SAAAiF,GACPjC,EhBpD6B,CACzC7I,KCH4B,iBDI5BC,QAAS,CAAEmB,UgBkDwB,CAAEC,MAAOgK,EAAU/J,gBAE5CqE,UAAW5D,IAAEV,OAJf,kCASA,MCjDGoK,GAAU,SAAA1G,GACrB,IAAM8D,EAAWxD,cAEXC,EAAUC,cAHc,EAKFiB,mBAAS,IALP,mBAKvBC,EALuB,aAMFS,eAApBD,EANsB,EAMtBA,QACFvF,GAPwB,EAMbiI,OACHnE,YAAY7E,EAAZ6E,CAA4ByB,IACpCrI,EAAS4G,YAAY9E,GACrBpC,EAAUkH,YAAY3E,GACtBtB,EAAOiG,YAAY1E,GAVK,EAWA0F,mBAASjH,EAAK,IAXd,mBAWvBmM,EAXuB,KAWVC,EAXU,KAYxBjM,EAAgB8F,YAAYzE,GAZJ,EAaAyF,mBAAS9G,EAAc,IAbvB,mBAavBkM,EAbuB,KAaVC,EAbU,KAcxBpM,EAAY+F,YAAYxE,GAdA,EAeEwF,mBAAS/G,EAAU,IAfrB,mBAevBqM,EAfuB,KAeTC,EAfS,OAgBNvF,mBAAS,IAhBH,mBAgBvBhI,EAhBuB,KAgBjBwN,EAhBiB,OAiBFxF,mBAAS,QAjBP,mBAiBvBlH,EAjBuB,KAiBf2M,EAjBe,KA2BTrN,EAAOkD,QAAO,SAAAH,GAAC,OAAIA,EAAEnD,KAAKkF,QAAQ+C,IAAW,KAElE,OAAgB,IAAZnI,GACFmH,QAAQC,IAAI,cACL,kBAAC,IAAD,CAAUQ,GAAG,OAGpB,oCACE,yBAAKP,UAAW5D,IAAE6D,SAChB,yBAAKC,QAbe,WACxBP,EAAQQ,KAAR,iBAAuBmB,KAYctB,UAAW5D,IAAEgE,MAC5C,kBAAC,GAAD,CAAWJ,UAAW5D,IAAEiE,WAE1B,gHACA,+BAEF,yBAAKL,UAAW5D,IAAEkE,SAEhB,yBAAKN,UAAW5D,IAAEoE,MAChB,2CACA,4BACEU,MAAO6E,EAAY/M,KACnBmI,SAAU,SAAAF,GACR+E,EAAOpM,EAAKuC,QAAO,SAAAtC,GAAG,OAAIA,EAAIb,OAASiI,EAAEhE,OAAOiE,SAAO,MAGzD,4BAAQqF,UAAQ,GAAhB,cACC3M,EAAKkC,KAAI,SAAAjC,GAAG,OACX,4BAAQwD,IAAKxD,EAAIb,KAAMkI,MAAOrH,EAAIb,MAC/Ba,EAAIA,SAIX,oDACA,4BACEqH,MAAO+E,EAAYjN,KACnBmI,SAAU,SAAAF,GACRiF,EAAOnM,EAAcoC,QAAO,SAAAtC,GAAG,OAAIA,EAAIb,OAASiI,EAAEhE,OAAOiE,SAAO,MAGlE,4BAAQqF,UAAQ,GAAhB,uBACCxM,EAAc+B,KAAI,SAAAjC,GAAG,OACpB,4BAAQwD,IAAKxD,EAAIb,KAAMkI,MAAOrH,EAAIb,MAC/Ba,EAAIhB,UAIX,gDACA,4BACEqI,MAAOiF,EAAanN,KACpBmI,SAAU,SAAAF,GACRmF,EAAQtM,EAAUqC,QAAO,SAAAtC,GAAG,OAAIA,EAAIb,OAASiI,EAAEhE,OAAOiE,SAAO,MAG/D,4BAAQqF,UAAQ,GAAhB,mBACCzM,EAAUgC,KAAI,SAAAjC,GAAG,OAChB,4BAAQwD,IAAKxD,EAAIb,KAAMkI,MAAOrH,EAAIb,MAC/Ba,EAAIhB,UAIX,8CACA,4BACEqI,MAAOvH,EACPwH,SAAU,SAAAF,GACRqF,EAAUrF,EAAEhE,OAAOiE,SAGrB,4BAAQqF,UAAQ,GAAhB,iBACA,4BAAQrF,MAAO,UAAf,8CACA,4BAAQA,MAAO,QAAf,+CAEF,2CACA,2BAAOyB,YAAY,aAAazB,MAAOrI,EAAMsI,SAAU,SAAAF,GAAC,OAAIoF,EAAQpF,EAAEhE,OAAOiE,UAO7E,yBACEhB,QAAS,SAAAiF,GACP,IAAMqB,EAAU,CACd3N,OACAW,SAAUuM,EAAY/M,KACtBS,SAAU0M,EAAanN,KACvBU,aAAcuM,EAAYjN,KAC1B+C,MAAOuF,EACP3H,SACAR,OAAQ4C,EAAM9C,OAAO6C,KAAI,SAAAE,GACvB,MAAO,CACL5C,UAAW4C,EACX3C,MAAO,EACPC,QAAS,OAIf+J,GAASH,EAAUsD,GAGnB7G,EAAQQ,KAAR,iBAAuBmB,KAEzBtB,UAAW5D,IAAEV,OAtBf,wDCpHU+K,QACW,cAA7BlC,OAAOC,SAASkC,UAEe,UAA7BnC,OAAOC,SAASkC,UAEhBnC,OAAOC,SAASkC,SAASC,MACvB,2D,OCTNC,IAASC,OACP,kBAAC,IAAD,CAAUhM,MAAOA,EAAMA,OACrB,mBCCe,SAAAuE,GAKjB,OAJAU,QAAQC,IAAI,ON8BgB,WAC5B,IAAMmD,EAAWxD,cAEjB0E,qBAAU,WACRb,GAAYL,GACZQ,GAAWR,GACXS,GAAUT,GACVU,GAAeV,GACfW,GAAUX,GACVY,GAAYZ,KACX,IMvCH4D,GN8EgC,WAChC,IAAM5D,EAAWxD,cACjB0E,qBAAU,WACR,IAQI2C,EAREC,EAAyB,SAAAjL,GAC7B,IAAMzB,EAAU2M,KAAKC,MAAMnL,EAAM0H,MACjCP,EAAS/I,EAAa,MAAKG,EAAQ8G,KAAd,CAAoBrF,MAAOzB,EAAQgH,aAEpD6F,EAAkB,SAAApL,GACtB,IAAMzB,EAAU2M,KAAKC,MAAMnL,EAAM0H,MACjCP,EAAS3I,EAAWD,KAsBtB,OAnBqB,SAAf8M,KACJL,EAAc,IAAIM,YAAY,iBAClBC,QAAU,SAASvL,GACzBA,EAAMkB,OAAOsK,aAAeF,YAAYG,WAC1C1H,QAAQC,IAAI,4BACHhE,EAAMkB,OAAOsK,aAAeF,YAAYI,SACjD3H,QAAQC,IAAI,2DACZgH,EAAYW,QACZC,YAAW,WACTP,MACC,OAGPL,EAAYa,OAAS,WACnBb,EAAYc,iBAAiB,sBAAuBb,GACpDD,EAAYc,iBAAiB,eAAgBV,IAGjDC,GACO,WACLL,EAAYe,oBAAoB,sBAAuBd,GACvDD,EAAYe,oBAAoB,eAAgBX,GAChDJ,EAAYW,WAEb,IMjHHK,GAGE,oCACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWzI,IACjC,kBAAC,IAAD,CAAOuI,OAAK,EAACC,KAAK,kBAAkBC,UAAW7G,KAC/C,kBAAC,IAAD,CAAO2G,OAAK,EAACC,KAAK,0BAA0BC,UAAWpC,KACvD,kBAAC,IAAD,CAAOkC,OAAK,EAACC,KAAK,+BAA+BC,UAAWnE,KAC5D,kBAAC,IAAD,CAAOiE,OAAK,EAACC,KAAK,gBAAgBC,UAAWzI,IAC7C,kBAAC,IAAD,CAAOuI,OAAK,EAACC,KAAK,SAASC,UAAWtH,KACtC,kBAAC,IAAD,CAAOoH,OAAK,EAACC,KAAK,kBAAkBC,UAAWzI,IAC/C,kBAAC,IAAD,CAAOuI,OAAK,EAACC,KAAK,oBAAoBC,UAAWzI,IACjD,kBAAC,IAAD,CAAOwI,KAAK,YAAYC,UAAWzI,IACnC,kBAAC,IAAD,CAAOwI,KAAK,UAAUC,UAAWzI,IACjC,kBAAC,IAAD,CAAOwI,KAAK,aAAaC,UAAWzI,IACpC,kBAAC,IAAD,CAAOwI,KAAK,YAAYC,UAAW3C,SDpBvC,OAEF4C,SAASC,eAAe,SDoHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,gBClHnBnE,OAAO5E,QAAQgJ,kBAAoB,SAGnCR,SAASN,iBAAiB,gBAAgB,SAAS5G,GACjDA,EAAE2H,oBAIJT,SAASC,eAAe,QAAQP,iBAAiB,SAAS,gB","file":"static/js/main.e795cc7f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"drawer\":\"ShoppingCart_drawer__3denB\",\"closed__empty\":\"ShoppingCart_closed__empty__1CNuv\",\"closed__full\":\"ShoppingCart_closed__full__1x9AH\",\"open__full\":\"ShoppingCart_open__full__A231F\",\"open__empty\":\"ShoppingCart_open__empty__iYeG2\",\"shader\":\"ShoppingCart_shader__3KrvX\",\"open\":\"ShoppingCart_open__3pOnj\",\"empty\":\"ShoppingCart_empty__3rNwF\",\"closed\":\"ShoppingCart_closed__1PMk6\",\"content\":\"ShoppingCart_content__NYV4z\",\"openEmpty\":\"ShoppingCart_openEmpty__Zac35\",\"title\":\"ShoppingCart_title__fvtda\",\"p\":\"ShoppingCart_p__2WJ-E\",\"man\":\"ShoppingCart_man__1abMx\",\"accordionClosed\":\"ShoppingCart_accordionClosed__12nUu\",\"priceList\":\"ShoppingCart_priceList__thwDZ\",\"icon\":\"ShoppingCart_icon__pPJng\",\"mtop1\":\"ShoppingCart_mtop1__3g-8C\",\"mtop2\":\"ShoppingCart_mtop2__b5g0t\",\"mtop3\":\"ShoppingCart_mtop3__6DQrs\",\"mtop4\":\"ShoppingCart_mtop4__1eteN\",\"flex\":\"ShoppingCart_flex__J_tjy\",\"item\":\"ShoppingCart_item__1lkYf\",\"arrow\":\"ShoppingCart_arrow__2FrRu\",\"subtitle\":\"ShoppingCart_subtitle__1V1Ur\",\"count\":\"ShoppingCart_count__49o3M\",\"product\":\"ShoppingCart_product__2f0rc\",\"duplicate\":\"ShoppingCart_duplicate__y5x9p\",\"dashed\":\"ShoppingCart_dashed__2gde9\",\"vrd\":\"ShoppingCart_vrd__3eCW6\",\"comments\":\"ShoppingCart_comments__3pysG\",\"pay\":\"ShoppingCart_pay__3HqBh\",\"flexColumn\":\"ShoppingCart_flexColumn__1R3rz\",\"vr\":\"ShoppingCart_vr__3nX1g\",\"flexD\":\"ShoppingCart_flexD__Pn4lV\",\"flex1\":\"ShoppingCart_flex1__2l_TE\",\"flex2\":\"ShoppingCart_flex2__2TDNd\",\"hidden\":\"ShoppingCart_hidden__39Szq\",\"visible\":\"ShoppingCart_visible__39ovU\",\"list\":\"ShoppingCart_list__3VFfQ\",\"exitIcon\":\"ShoppingCart_exitIcon__3dN4k\",\"dashed1\":\"ShoppingCart_dashed1__3hotD\",\"header\":\"ShoppingCart_header__qTWjf\",\"paidProduct\":\"ShoppingCart_paidProduct__2LbYH\",\"contextedWrapper\":\"ShoppingCart_contextedWrapper__2Ge1q\",\"contexted\":\"ShoppingCart_contexted__3BNsj\",\"clearfixHack\":\"ShoppingCart_clearfixHack__sPyza\",\"mw30\":\"ShoppingCart_mw30__zx5w4\",\"tableLayout\":\"ShoppingCart_tableLayout__322EE\",\"tableHash\":\"ShoppingCart_tableHash__YLJ41\",\"tableNum\":\"ShoppingCart_tableNum__2kzDw\",\"payWarn\":\"ShoppingCart_payWarn__2Ugzp\",\"warnText\":\"ShoppingCart_warnText__1wu0v\",\"warnOrder\":\"ShoppingCart_warnOrder__2yBXV\",\"drawerWarn\":\"ShoppingCart_drawerWarn__2xwU-\",\"lds-ring\":\"ShoppingCart_lds-ring__1AZsQ\",\"doneProduct\":\"ShoppingCart_doneProduct__1vnqk\",\"headerCenter\":\"ShoppingCart_headerCenter__M34wV\",\"headerRight\":\"ShoppingCart_headerRight__1haO1\",\"headerRightItem\":\"ShoppingCart_headerRightItem__1_L1E\",\"paymentDiv\":\"ShoppingCart_paymentDiv__2z343\",\"togoIcon\":\"ShoppingCart_togoIcon__3BNMD\",\"menuBar\":\"ShoppingCart_menuBar__1C_bu\",\"left\":\"ShoppingCart_left__36MaM\",\"right\":\"ShoppingCart_right__1lMr0\",\"card\":\"ShoppingCart_card__RYVZm\",\"liveCard\":\"ShoppingCart_liveCard__2YPro\",\"liveBub\":\"ShoppingCart_liveBub__3mfTU\",\"miniCard\":\"ShoppingCart_miniCard__1oqqW\",\"row\":\"ShoppingCart_row__3aGem\",\"login\":\"ShoppingCart_login__32U7M\",\"section\":\"ShoppingCart_section__3DhMI\",\"sectionHeader\":\"ShoppingCart_sectionHeader__3gyr-\"};","import {\r\n  UPDATE_SCORES,\r\n  VALIDATE_ADMIN,\r\n  CREATE_USER,\r\n  ADD_EVENTS,\r\n  ADD_USERS,\r\n  ADD_AGES,\r\n  ADD_DISTRICTS,\r\n  ADD_ORGS,\r\n  ADD_ROUTES\r\n} from './types'\r\n\r\nexport const initialState = {\r\n  // isAdmin: false,\r\n  isAdmin: false,\r\n  events: [\r\n    {\r\n      name: 'Соревнования по скалолазанию 2019 ноябрь',\r\n      dateStart: '2019-11-22T12:33:50.825Z',\r\n      dateEnd: '2019-12-23T12:33:50.825Z',\r\n      slug: '123457',\r\n      routes: ['1', '2', '3'],\r\n      participants: [\r\n        {\r\n          slug: '1',\r\n          scores: [\r\n            {\r\n              routeSlug: '1',\r\n              score: 5,\r\n              attempt: 1\r\n            },\r\n            {\r\n              routeSlug: '2',\r\n              score: 7,\r\n              attempt: 1\r\n            },\r\n            {\r\n              routeSlug: '3',\r\n              score: 4,\r\n              attempt: 2\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          slug: '2',\r\n          scores: [\r\n            {\r\n              routeSlug: '1',\r\n              score: 3,\r\n              attempt: 3\r\n            },\r\n            {\r\n              routeSlug: '2',\r\n              score: 1,\r\n              attempt: 4\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          slug: '3',\r\n          scores: [\r\n            {\r\n              routeSlug: '1',\r\n              score: 4,\r\n              attempt: 3\r\n            },\r\n            {\r\n              routeSlug: '2',\r\n              score: 1,\r\n              attempt: 4\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          slug: '4',\r\n          scores: [\r\n            {\r\n              routeSlug: '1',\r\n              score: 7,\r\n              attempt: 3\r\n            },\r\n            {\r\n              routeSlug: '2',\r\n              score: 2,\r\n              attempt: 4\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          slug: '5',\r\n          scores: [\r\n            {\r\n              routeSlug: '1',\r\n              score: 5,\r\n              attempt: 3\r\n            },\r\n            {\r\n              routeSlug: '2',\r\n              score: 0,\r\n              attempt: 4\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          slug: '6',\r\n          scores: [\r\n            {\r\n              routeSlug: '1',\r\n              score: 10,\r\n              attempt: 3\r\n            },\r\n            {\r\n              routeSlug: '2',\r\n              score: 10,\r\n              attempt: 4\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      name: 'Соревнования по скалолазанию 2019 октябрь',\r\n      dateStart: '2019-10-22T12:33:50.825Z',\r\n      dateEnd: '2019-11-10T12:33:50.825Z',\r\n      slug: '123456',\r\n      routes: ['4', '5', '6'],\r\n      participants: []\r\n    }\r\n  ],\r\n  users: [\r\n    {\r\n      slug: '1',\r\n      name: 'Ivan Sidorov',\r\n      groupAge: '2',\r\n      district: '2',\r\n      organization: '2',\r\n      gender: 'male',\r\n      scores: []\r\n    },\r\n    {\r\n      slug: '2',\r\n      name: 'Gleb Petrov',\r\n      groupAge: '2',\r\n      district: '2',\r\n      organization: '2',\r\n      gender: 'male',\r\n      scores: []\r\n    },\r\n    {\r\n      slug: '3',\r\n      name: 'Yuri Gagarin',\r\n      groupAge: '2',\r\n      district: '2',\r\n      organization: '2',\r\n      gender: 'male',\r\n      scores: []\r\n    },\r\n    {\r\n      slug: '4',\r\n      name: 'Konstantin Bykov',\r\n      groupAge: '1',\r\n      district: '2',\r\n      organization: '2',\r\n      gender: 'male',\r\n      scores: []\r\n    },\r\n    {\r\n      slug: '5',\r\n      name: 'Evhenii Kovalenko',\r\n      groupAge: '1',\r\n      district: '1',\r\n      organization: '3',\r\n      gender: 'male',\r\n      scores: []\r\n    },\r\n    {\r\n      slug: '6',\r\n      name: 'Genadii Panasenko',\r\n      groupAge: '1',\r\n      district: '1',\r\n      organization: '1',\r\n      gender: 'male',\r\n      scores: []\r\n    }\r\n  ],\r\n  ages: [\r\n    {\r\n      slug: '1',\r\n      age: '2005-2006'\r\n    },\r\n    {\r\n      slug: '2',\r\n      age: '2007-2008'\r\n    }\r\n  ],\r\n  districts: [\r\n    {\r\n      slug: '1',\r\n      name: 'Suvorov'\r\n    },\r\n    {\r\n      slug: '2',\r\n      name: 'Korabel'\r\n    }\r\n  ],\r\n  organizations: [\r\n    {\r\n      slug: '1',\r\n      name: 'School №85'\r\n    },\r\n    {\r\n      slug: '2',\r\n      name: 'School №35'\r\n    },\r\n    {\r\n      slug: '3',\r\n      name: 'School №65'\r\n    }\r\n  ],\r\n  routes: [\r\n    {\r\n      slug: '1',\r\n      name: '1',\r\n      sector: '123',\r\n      maxScore: 10\r\n    },\r\n    {\r\n      slug: '2',\r\n      name: '2',\r\n      sector: '123',\r\n      maxScore: 10\r\n    },\r\n    {\r\n      slug: '3',\r\n      name: '3',\r\n      sector: '123',\r\n      maxScore: 10\r\n    },\r\n    {\r\n      slug: '4',\r\n      name: '4',\r\n      sector: '124',\r\n      maxScore: 10\r\n    },\r\n    {\r\n      slug: '5',\r\n      name: '5',\r\n      sector: '124',\r\n      maxScore: 10\r\n    },\r\n    {\r\n      slug: '6',\r\n      name: '6',\r\n      sector: '125',\r\n      maxScore: 10\r\n    }\r\n  ],\r\n  sectors: [\r\n    {\r\n      slug: '123',\r\n      name: 'Red'\r\n    },\r\n    {\r\n      slug: '124',\r\n      name: 'Green'\r\n    },\r\n    {\r\n      slug: '125',\r\n      name: 'Blue'\r\n    },\r\n    {\r\n      slug: '126',\r\n      name: 'Black'\r\n    }\r\n  ]\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ADD_EVENTS: {\r\n      const { events } = action.payload\r\n      return {\r\n        ...state,\r\n        events\r\n      }\r\n    }\r\n\r\n    case ADD_USERS: {\r\n      const { users } = action.payload\r\n      return {\r\n        ...state,\r\n        users\r\n      }\r\n    }\r\n\r\n    case ADD_AGES: {\r\n      const { ages } = action.payload\r\n      return {\r\n        ...state,\r\n        ages\r\n      }\r\n    }\r\n\r\n    case ADD_DISTRICTS: {\r\n      const { districts } = action.payload\r\n      return {\r\n        ...state,\r\n        districts\r\n      }\r\n    }\r\n\r\n    case ADD_ORGS: {\r\n      const { organizations } = action.payload\r\n      return {\r\n        ...state,\r\n        organizations\r\n      }\r\n    }\r\n\r\n    case ADD_ROUTES: {\r\n      const { routes } = action.payload\r\n      return {\r\n        ...state,\r\n        routes\r\n      }\r\n    }\r\n\r\n    case VALIDATE_ADMIN: {\r\n      const { loginData } = action.payload\r\n      let isAdmin = false\r\n      if (loginData.login === 'admin@skalodrom.io' && loginData.password === 'zelen') {\r\n        isAdmin = true\r\n      }\r\n      return {\r\n        ...state,\r\n        isAdmin\r\n      }\r\n    }\r\n\r\n    case CREATE_USER: {\r\n      const { userData } = action.payload\r\n      const userSlug = state.users.length + 1 + ''\r\n\r\n      return {\r\n        ...state,\r\n        users: [...state.users, { ...userData, scores: [], slug: userSlug }],\r\n        events: state.events.map(event =>\r\n          event.slug === userData.event\r\n            ? {\r\n                ...event,\r\n                participants: [\r\n                  ...event.participants,\r\n                  {\r\n                    slug: userSlug,\r\n                    scores: event.routes.map(r => {\r\n                      return { routeSlug: r, score: 0, attempt: 0 }\r\n                    })\r\n                    // [\r\n                    //   {\r\n                    //     routeSlug: '1',\r\n                    //     score: 5,\r\n                    //     attempt: 1\r\n                    //   },\r\n                    // ]\r\n                  }\r\n                ]\r\n              }\r\n            : event\r\n        )\r\n      }\r\n    }\r\n\r\n    case UPDATE_SCORES: {\r\n      const { userData } = action.payload\r\n      const userSlug = userData.slug\r\n\r\n      return {\r\n        ...state,\r\n        events: state.events.map(event =>\r\n          event.slug === userData.event\r\n            ? {\r\n                ...event,\r\n                participants: event.participants.map(part =>\r\n                  part.slug === userSlug\r\n                    ? {\r\n                        slug: userSlug,\r\n                        scores: part.scores.map(r => {\r\n                          const filterRoute = userData.scores.filter(s => s.routeSlug === r.routeSlug)\r\n                          if (filterRoute.length > 0) {\r\n                            return filterRoute[0]\r\n                          } else {\r\n                            return r\r\n                          }\r\n                        })\r\n                      }\r\n                    : part\r\n                )\r\n              }\r\n            : event\r\n        )\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import {\r\n  VALIDATE_ADMIN,\r\n  UPDATE_SCORES,\r\n  CREATE_USER,\r\n  ADD_EVENTS,\r\n  ADD_USERS,\r\n  ADD_AGES,\r\n  ADD_DISTRICTS,\r\n  ADD_ORGS,\r\n  ADD_ROUTES\r\n} from './types'\r\n\r\nexport const validateAdmin = loginData => ({\r\n  type: VALIDATE_ADMIN,\r\n  payload: { loginData }\r\n})\r\n\r\nexport const updateScores = userData => ({\r\n  type: UPDATE_SCORES,\r\n  payload: { userData }\r\n})\r\n\r\nexport const createUser = userData => ({\r\n  type: CREATE_USER,\r\n  payload: { userData }\r\n})\r\n\r\nexport const addEvents = events => ({\r\n  type: ADD_EVENTS,\r\n  payload: { events }\r\n})\r\n\r\nexport const addUsers = users => ({\r\n  type: ADD_USERS,\r\n  payload: { users }\r\n})\r\n\r\nexport const addAges = ages => ({\r\n  type: ADD_AGES,\r\n  payload: { ages }\r\n})\r\n\r\nexport const addDistricts = districts => ({\r\n  type: ADD_DISTRICTS,\r\n  payload: { districts }\r\n})\r\n\r\nexport const addOrganizations = organizations => ({\r\n  type: ADD_ORGS,\r\n  payload: { organizations }\r\n})\r\n\r\nexport const addRoutes = routes => ({\r\n  type: ADD_ROUTES,\r\n  payload: { routes }\r\n})\r\n","export const CREATE_USER = 'CREATE_USER'\r\nexport const ADD_EVENTS = 'ADD_EVENTS'\r\nexport const ADD_USERS = 'ADD_USERS'\r\nexport const ADD_USER = 'ADD_USER'\r\nexport const UPDATE_SCORES = 'UPDATE_SCORES'\r\nexport const REGISTER_USER = 'REGISTER_USER'\r\nexport const ADD_ROUTES = 'ADD_ROUTES'\r\nexport const ADD_AGES = 'ADD_AGES'\r\nexport const ADD_DISTRICTS = 'ADD_DISTRICTS'\r\nexport const ADD_ORGS = 'ADD_ORGS'\r\nexport const VALIDATE_ADMIN = 'VALIDATE_ADMIN'\r\n","import { propEq, find, isEmpty } from 'ramda'\r\nimport store from './state/store'\r\n\r\nexport const findId = (id, arr) => find(propEq('id', id), arr)\r\nexport const findSlug = (slug, arr) => find(propEq('slug', slug), arr)\r\n","import { findId, findSlug } from '../../utils'\r\n\r\n// export const getOptions = store => store.menu.options\r\nexport const getEvents = store => store.menu.events\r\nexport const getRoutes = store => store.menu.routes\r\nexport const getEventBySlug = store => slug => findSlug(slug, store.menu.events)\r\nexport const getUsers = store => store.menu.users\r\nexport const getIsAdmin = store => store.menu.isAdmin\r\nexport const getAges = store => store.menu.ages\r\nexport const getOrganizations = store => store.menu.organizations\r\nexport const getDistricts = store => store.menu.districts\r\nexport const getUserBySlug = store => slug => findSlug(slug, store.menu.users)\r\n","import menu from './reducers'\r\n\r\nexport {} from './actions'\r\nexport {} from './selectors'\r\n\r\nexport default menu\r\n","import shared from './reducers'\r\n\r\nexport { changeLanguage } from './actions'\r\n\r\nexport default shared\r\n","import { CHANGE_LANGUAGE } from './types'\r\nimport { isEmpty } from 'ramda'\r\n\r\nexport default function(state, action) {\r\n  switch (action.type) {\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { combineReducers } from 'redux'\r\nimport menu from './menu'\r\nimport shared from './shared'\r\nimport storage from 'redux-persist/lib/storage'\r\n\r\nconst localPersistConfig = {\r\n  key: 'local',\r\n  storage\r\n}\r\n\r\nconst combinedReducer = combineReducers({\r\n  menu\r\n})\r\n\r\nexport const rootReducer = (state, action) => {\r\n  const intermediateState = combinedReducer(state, action)\r\n  const finalState = shared(intermediateState, action)\r\n  return finalState\r\n}\r\n","import { createStore, combineReducers } from 'redux'\r\nimport { devToolsEnhancer } from 'redux-devtools-extension'\r\nimport { rootReducer } from './reducers'\r\n\r\nimport storage from 'redux-persist/lib/storage' // defaults to localStorage for web\r\nimport { persistReducer, persistStore } from 'redux-persist'\r\n\r\nlet store = createStore(rootReducer, devToolsEnhancer())\r\nlet persistor = persistStore(store)\r\n\r\nexport default { store, persistor }\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 18.3935,\n  cy: 18.099,\n  r: 18.099,\n  fill: \"black\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  x: 14.3936,\n  y: 19.1443,\n  width: 2,\n  height: 6,\n  rx: 1,\n  transform: \"rotate(90 14.3936 19.1443)\",\n  fill: \"white\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  x: 21.3936,\n  y: 14.6133,\n  width: 2,\n  height: 6,\n  rx: 1,\n  transform: \"rotate(90 21.3936 14.6133)\",\n  fill: \"white\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  x: 28.3936,\n  y: 19.1443,\n  width: 2,\n  height: 6,\n  rx: 1,\n  transform: \"rotate(90 28.3936 19.1443)\",\n  fill: \"white\"\n});\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M24.3936 9.01562H26.3936V17.1442H24.3936V9.01562ZM24.3936 19.1442H26.3936V21.1442H24.3936V19.1442ZM24.3936 23.1442V26.9496H26.3936V23.1442H24.3936Z\",\n  fill: \"white\"\n});\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M10.3936 8.99109H12.3936V17.1442H10.3936V8.99109ZM10.3936 19.1442V21.1442H12.3936V19.1442H10.3936ZM10.3936 23.1442H12.3936V26.9805H10.3936V23.1442Z\",\n  fill: \"white\"\n});\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M19.3936 8.9884H17.3936V12.605L19.3936 12.605V8.9884ZM17.3936 26.9985V18.6277H19.3936V26.9985H17.3936Z\",\n  fill: \"white\"\n});\n\nvar SvgSettingsButton = function SvgSettingsButton(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 37,\n    height: 37,\n    viewBox: \"0 0 37 37\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgSettingsButton, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/SettingsButton.a731252a.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport s from './ShoppingCart.module.scss'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { ReactComponent as SettingsIcon } from '../../assets/icons/SettingsButton.svg'\r\nimport { getEvents } from '../../state/menu/selectors'\r\n// import { Link } from 'react-router-dom'\r\n\r\nexport const Home = props => {\r\n  const dispatch = useDispatch()\r\n\r\n  const history = useHistory()\r\n\r\n  const events = useSelector(getEvents)\r\n\r\n  console.log('home')\r\n\r\n  const handleLeftClick = () => {\r\n    history.push(`/settings`)\r\n  }\r\n\r\n  const handleCenterClick = () => {\r\n    history.push(`/`)\r\n  }\r\n\r\n  const handleRightClick = () => {\r\n    history.push(`/users`)\r\n  }\r\n  return (\r\n    <>\r\n      <div className={s.menuBar}>\r\n        <div onClick={handleLeftClick} className={s.left}>\r\n          <SettingsIcon className={s.iconSvg} />\r\n        </div>\r\n        <div onClick={handleCenterClick}>Последние события</div>\r\n        {/* <div onClick={handleRightClick} className={s.right}>\r\n          <SettingsIcon className={s.iconSvg} />\r\n        </div> */}\r\n      </div>\r\n      <div className={s.content}>\r\n        {events.map(event => (\r\n          <Link key={event.slug} to={`/event/${event.slug}`} className={s.card}>\r\n            <div>{event.name}</div>\r\n            {new Date() - new Date(event.dateStart) > 0 && new Date() - new Date(event.dateEnd) < 0 ? (\r\n              <div className={s.liveCard}>\r\n                <div className={s.liveBub}></div>\r\n                <div>LIVE</div>\r\n              </div>\r\n            ) : (\r\n              ''\r\n            )}\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M12.0002 13.4142L17.293 18.7071L18.7072 17.2928L13.4144 12L18.7073 6.70706L17.2931 5.29285L12.0002 10.5858L6.70718 5.29285L5.29297 6.70706L10.5859 12L5.29312 17.2928L6.70733 18.7071L12.0002 13.4142Z\"\n});\n\nvar SvgIcoClose24 = function SvgIcoClose24(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"#ffffff\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgIcoClose24, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/ico-close-24.cfd8a81c.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport s from './ShoppingCart.module.scss'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { ReactComponent as SettingsIcon } from '../../assets/icons/SettingsButton.svg'\r\nimport { getEvents, getUsers } from '../../state/menu/selectors'\r\n\r\nimport { ReactComponent as CloseIcon } from '../../assets/ico-close-24.svg'\r\n// import { Link } from 'react-router-dom'\r\n\r\nexport const Users = props => {\r\n  const dispatch = useDispatch()\r\n\r\n  const history = useHistory()\r\n\r\n  const [search, setSearch] = useState('')\r\n\r\n  // const events = useSelector(getEvents)\r\n  const rawUsers = useSelector(getUsers)\r\n\r\n  const handleLeftClick = () => {\r\n    history.push(`/settings`)\r\n  }\r\n\r\n  const handleCenterClick = () => {\r\n    history.push(`/`)\r\n  }\r\n\r\n  const users = rawUsers.filter(e => e.name.indexOf(search) >= 0)\r\n\r\n  return (\r\n    <>\r\n      <div className={s.menuBar}>\r\n        <div onClick={handleCenterClick} className={s.left}>\r\n          <CloseIcon className={s.iconSvg} />\r\n        </div>\r\n        <div onClick={handleCenterClick}>Участники</div>\r\n        <div></div>\r\n      </div>\r\n      <div className={s.content}>\r\n        <input value={search} onChange={e => setSearch(e.target.value)} />\r\n        {users.map(user => (\r\n          <Link key={user.slug} to={`/user/${user.slug}`} className={s.card}>\r\n            <div>\r\n              {user.name} ({user.groupAge})\r\n            </div>\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useHistory, Link, useParams } from 'react-router-dom'\r\nimport s from './ShoppingCart.module.scss'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { ReactComponent as SettingsIcon } from '../../assets/icons/SettingsButton.svg'\r\nimport {\r\n  getEvents,\r\n  getUsers,\r\n  getEventBySlug,\r\n  getRoutes,\r\n  getIsAdmin,\r\n  getAges,\r\n  getOrganizations\r\n} from '../../state/menu/selectors'\r\n\r\nimport { ReactComponent as CloseIcon } from '../../assets/ico-close-24.svg'\r\n// import { Link } from 'react-router-dom'\r\n\r\nexport const Event = props => {\r\n  const dispatch = useDispatch()\r\n  const isAdmin = useSelector(getIsAdmin)\r\n\r\n  const history = useHistory()\r\n\r\n  const [search, setSearch] = useState('')\r\n  const { eventId } = useParams()\r\n  const event = useSelector(getEventBySlug)(eventId)\r\n  const ages = useSelector(getAges)\r\n  const organizations = useSelector(getOrganizations)\r\n  const rawUsers = useSelector(getUsers)\r\n  const routes = useSelector(getRoutes)\r\n\r\n  const rawParticipants = rawUsers\r\n    .filter(user => event.participants.filter(participant => participant.slug === user.slug).length > 0)\r\n    .map(user => {\r\n      return { ...user, groupAge: ages.filter(age => age.slug === user.groupAge)[0].age }\r\n    })\r\n\r\n  const ageSections = rawParticipants.map(user => user.groupAge).filter(onlyUnique)\r\n  const genderSections = rawParticipants.map(user => user.gender).filter(onlyUnique)\r\n\r\n  var totalSection = []\r\n\r\n  for (var i = 0; i < ageSections.length; i++) {\r\n    for (var j = 0; j < genderSections.length; j++) {\r\n      totalSection.push({\r\n        age: ageSections[i],\r\n        gender: genderSections[j]\r\n      })\r\n    }\r\n  }\r\n\r\n  const users = rawParticipants\r\n    .map(user => {\r\n      const partic = event.participants.filter(participant => participant.slug === user.slug)[0]\r\n      return { ...user, scores: partic.scores }\r\n    })\r\n    .sort((b, a) => {\r\n      const totalA = a.scores.reduce((prev, current) => {\r\n        return prev + current.score\r\n      }, 0)\r\n      const totalB = b.scores.reduce((prev, current) => {\r\n        return prev + current.score\r\n      }, 0)\r\n      return totalA - totalB\r\n    })\r\n\r\n  const handleLeftClick = () => {\r\n    history.push(`/settings`)\r\n  }\r\n\r\n  const handleCenterClick = () => {\r\n    history.push(`/`)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={s.menuBar}>\r\n        <div onClick={handleCenterClick} className={s.left}>\r\n          <CloseIcon className={s.iconSvg} />\r\n        </div>\r\n        <div onClick={handleCenterClick}>Участники</div>\r\n        <div></div>\r\n      </div>\r\n      <div className={s.content}>\r\n        <div style={{ margin: '16px 4px', display: 'flex', justifyContent: 'center' }}>{event.name}</div>\r\n        <input value={search} onChange={e => setSearch(e.target.value)} placeholder={'Поиск участника по имени'} />\r\n        {isAdmin ? (\r\n          <Link to={`/event/${eventId}/newUser`} className={s.login}>\r\n            Добавить участника\r\n          </Link>\r\n        ) : (\r\n          ''\r\n        )}\r\n        {totalSection.map(section => (\r\n          <div className={s.section}>\r\n            <div className={s.sectionHeader}>\r\n              {section.age} {section.gender === 'male' ? 'Мальчики' : 'Девочки'}\r\n            </div>\r\n            {users\r\n              .filter(user => user.groupAge === section.age && user.gender === section.gender)\r\n              .map((user, index) => (\r\n                <RenderUser search={search} key={index} index={index} user={user} eventId={eventId} />\r\n              ))}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst RenderUser = ({ user, eventId, index, search }) => (\r\n  <Link\r\n    style={{ display: user.name.indexOf(search) >= 0 ? 'block' : 'none' }}\r\n    key={user.slug}\r\n    to={`/event/${eventId}/user/${user.slug}`}\r\n    className={s.card}\r\n  >\r\n    <div>\r\n      {index + 1} {user.name} ({user.groupAge})\r\n    </div>\r\n    {/* {user.scores.map(score => {\r\n  return (\r\n    <div>\r\n      {routes.filter(e => e.slug === score.routeSlug)[0].name} трасса, {score.score} балов\r\n    </div>\r\n  )\r\n})} */}\r\n    <div>\r\n      Сумма балов:{' '}\r\n      {user.scores.reduce((prev, current) => {\r\n        return prev + current.score\r\n      }, 0)}\r\n    </div>\r\n  </Link>\r\n)\r\n\r\nfunction onlyUnique(value, index, self) {\r\n  return self.indexOf(value) === index\r\n}\r\n","import { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport axios from 'axios'\r\n\r\nimport store from './state/store'\r\n\r\nimport {\r\n  addEvents,\r\n  addUsers,\r\n  addAges,\r\n  addDistricts,\r\n  addOrganizations,\r\n  addRoutes,\r\n  updateScores,\r\n  createUser\r\n} from './state/menu/actions'\r\n\r\nexport const postParticipant = async (dispatch, payload) => {\r\n  const result = await axios.post(`/api/event/participants`, {\r\n    slug: payload.slug,\r\n    user: payload.user\r\n  })\r\n  dispatch(updateScores({ ...payload.user, event: payload.slug }))\r\n}\r\n\r\nexport const postUser = async (dispatch, payload) => {\r\n  const result = await axios.post(`/api/user`, {\r\n    name: payload.name,\r\n    groupAge: payload.groupAge,\r\n    district: payload.district,\r\n    organization: payload.organization,\r\n    gender: payload.gender\r\n  })\r\n  dispatch(createUser(payload))\r\n  postParticipant(dispatch, {\r\n    user: {\r\n      slug: result,\r\n      scores: payload.result\r\n    },\r\n    slug: payload.eventId\r\n  })\r\n}\r\n\r\nexport const useFetchEvents = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    fetchEvents(dispatch)\r\n    fetchUsers(dispatch)\r\n    fetchAges(dispatch)\r\n    fetchDistricts(dispatch)\r\n    fetchOrgs(dispatch)\r\n    fetchRoutes(dispatch)\r\n  }, [])\r\n}\r\n\r\nexport const fetchEvents = async dispatch => {\r\n  const result = await axios.get(`/api/event`)\r\n  console.log(result)\r\n  dispatch(addEvents(result.data))\r\n}\r\n\r\nexport const fetchUsers = async dispatch => {\r\n  const result = await axios.get(`/api/user`)\r\n  console.log(result)\r\n  dispatch(addUsers(result.data))\r\n}\r\n\r\nexport const fetchAges = async dispatch => {\r\n  const result = await axios.get(`/api/age`)\r\n  console.log(result)\r\n  dispatch(addAges(result.data))\r\n}\r\n\r\nexport const fetchDistricts = async dispatch => {\r\n  const result = await axios.get(`/api/district`)\r\n  console.log(result)\r\n  dispatch(addDistricts(result.data))\r\n}\r\n\r\nexport const fetchOrgs = async dispatch => {\r\n  const result = await axios.get(`/api/organization`)\r\n  console.log(result)\r\n  dispatch(addOrganizations(result.data))\r\n}\r\n\r\nexport const fetchRoutes = async dispatch => {\r\n  const result = await axios.get(`/api/route`)\r\n  console.log(result)\r\n  dispatch(addRoutes(result.data))\r\n}\r\n\r\nexport const useOrdersWebsocket = () => {\r\n  const dispatch = useDispatch()\r\n  useEffect(() => {\r\n    const eventAddNewParticipant = event => {\r\n      const payload = JSON.parse(event.data)\r\n      dispatch(updateScores({ ...payload.user, event: payload.eventId }))\r\n    }\r\n    const eventAddNewUser = event => {\r\n      const payload = JSON.parse(event.data)\r\n      dispatch(createUser(payload))\r\n    }\r\n    let eventSource\r\n    const setupChannel = () => {\r\n      eventSource = new EventSource('/sse/channel')\r\n      eventSource.onerror = function(event) {\r\n        if (event.target.readyState === EventSource.CONNECTING) {\r\n          console.log('Channel: Reconnecting...')\r\n        } else if (event.target.readyState === EventSource.CLOSED) {\r\n          console.log('Channel: Connection failed permanently. Reconnecting...')\r\n          eventSource.close()\r\n          setTimeout(() => {\r\n            setupChannel()\r\n          }, 2000)\r\n        }\r\n      }\r\n      eventSource.onopen = () => {\r\n        eventSource.addEventListener('add_new_participant', eventAddNewParticipant)\r\n        eventSource.addEventListener('add_new_user', eventAddNewUser)\r\n      }\r\n    }\r\n    setupChannel()\r\n    return () => {\r\n      eventSource.removeEventListener('add_new_participant', eventAddNewParticipant)\r\n      eventSource.removeEventListener('add_new_user', eventAddNewUser)\r\n      eventSource.close()\r\n    }\r\n  }, [])\r\n}\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport { useHistory, Link, useParams } from 'react-router-dom'\r\nimport s from './ShoppingCart.module.scss'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { ReactComponent as SettingsIcon } from '../../assets/icons/SettingsButton.svg'\r\nimport {\r\n  getEvents,\r\n  getUsers,\r\n  getEventBySlug,\r\n  getRoutes,\r\n  getUserBySlug,\r\n  getIsAdmin,\r\n  getAges\r\n} from '../../state/menu/selectors'\r\n\r\nimport { ReactComponent as CloseIcon } from '../../assets/ico-close-24.svg'\r\nimport { updateScores } from '../../state/menu/actions'\r\nimport QRCode from 'qrcode'\r\nimport { postParticipant } from '../../api'\r\n// import { Link } from 'react-router-dom'\r\n\r\nexport const UserEvent = props => {\r\n  const dispatch = useDispatch()\r\n\r\n  const history = useHistory()\r\n\r\n  const [search, setSearch] = useState('')\r\n  const { eventId, userId } = useParams()\r\n  const canvasRef = useRef()\r\n  const event = useSelector(getEventBySlug)(eventId)\r\n  const rawUser = useSelector(getUserBySlug)(userId)\r\n  const routes = useSelector(getRoutes)\r\n  const isAdmin = useSelector(getIsAdmin)\r\n  const ages = useSelector(getAges)\r\n\r\n  useEffect(() => {\r\n    QRCode.toCanvas(canvasRef.current, `${window.location.origin}${window.location.pathname}`, function(error) {\r\n      if (error) console.error(error)\r\n      console.log('success!')\r\n    })\r\n  }, [])\r\n\r\n  const rawParticipant = event.participants.filter(participant => participant.slug === userId)\r\n  const user =\r\n    rawParticipant.length > 0\r\n      ? { ...rawUser, ...rawParticipant[0], groupAge: ages.filter(age => age.slug === rawUser.groupAge)[0].age }\r\n      : []\r\n  const [localUser, setLocalUser] = useState(user)\r\n  if (rawParticipant.length === 0) return null\r\n\r\n  const handleLeftClick = () => {\r\n    history.push(`/settings`)\r\n  }\r\n\r\n  const handleCenterClick = () => {\r\n    history.push(`/event/${eventId}`)\r\n  }\r\n\r\n  const filterRoutes = routes.filter(r => r.name.indexOf(search) >= 0)\r\n\r\n  console.log(user)\r\n  return (\r\n    <>\r\n      <div className={s.menuBar}>\r\n        <div onClick={handleCenterClick} className={s.left}>\r\n          <CloseIcon className={s.iconSvg} />\r\n        </div>\r\n        <div>\r\n          {user.name} ({user.groupAge})\r\n        </div>\r\n        <div></div>\r\n      </div>\r\n      <div className={s.content}>\r\n        {/* <input value={search} onChange={e => setSearch(e.target.value)} placeholder={'Поиск трассы'} /> */}\r\n        <div className={s.card}>\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\r\n            <div>\r\n              {user.name} ({user.groupAge})\r\n            </div>\r\n            <div>\r\n              <canvas ref={canvasRef} id={'userCanvas'} />\r\n            </div>\r\n          </div>\r\n          <div className={s.miniCard}>\r\n            <div>Трасса</div>\r\n            <div>Баллы</div>\r\n            <div>Попыток</div>\r\n          </div>\r\n          <ScoreEditor\r\n            localUser={localUser}\r\n            setLocalUser={setLocalUser}\r\n            isAdmin={isAdmin}\r\n            user={user}\r\n            filterRoutes={filterRoutes}\r\n            routes={routes}\r\n          />\r\n          {isAdmin ? (\r\n            <div\r\n              onClick={_ => {\r\n                // dispatch(updateScores({ ...localUser, event: eventId }))\r\n                postParticipant(dispatch, { user: localUser, slug: eventId })\r\n                history.push(`/event/${eventId}`)\r\n              }}\r\n              className={s.login}\r\n            >\r\n              Обновить\r\n            </div>\r\n          ) : (\r\n            ''\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst ScoreEditor = ({ user, filterRoutes, routes, isAdmin, localUser, setLocalUser }) => {\r\n  // console.log(localUser.scores)\r\n  let actualUser = localUser\r\n  if (isAdmin === false) {\r\n    actualUser = user\r\n  }\r\n  return localUser.scores\r\n    .filter(score => filterRoutes.filter(fr => score.routeSlug === fr.slug).length > 0)\r\n    .map((score, index) => {\r\n      return (\r\n        <div key={index} className={s.miniCard}>\r\n          <div>{routes.filter(e => e.slug === score.routeSlug)[0].name} </div>\r\n          {!isAdmin ? (\r\n            <div>{score.score}</div>\r\n          ) : (\r\n            <input\r\n              value={score.score}\r\n              onChange={_ => {\r\n                // console.log('[localUser] change', parseInt(_.target.value))\r\n                setLocalUser({\r\n                  ...localUser,\r\n                  scores: localUser.scores.map(e => {\r\n                    // console.log(e.routeSlug === score.slug, e.routeSlug, score.routeSlug)\r\n                    if (e.routeSlug === score.routeSlug) {\r\n                      return { ...e, score: parseInt(_.target.value) }\r\n                    } else {\r\n                      return e\r\n                    }\r\n                  })\r\n                })\r\n              }}\r\n            />\r\n          )}\r\n          {!isAdmin ? (\r\n            <div>{score.attempt}</div>\r\n          ) : (\r\n            <input\r\n              value={score.attempt}\r\n              onChange={_ =>\r\n                setLocalUser({\r\n                  ...localUser,\r\n                  scores: localUser.scores.map(e =>\r\n                    e.routeSlug === score.routeSlug ? { ...e, attempt: parseInt(_.target.value) } : e\r\n                  )\r\n                })\r\n              }\r\n            />\r\n          )}\r\n        </div>\r\n      )\r\n    })\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport s from './ShoppingCart.module.scss'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { ReactComponent as CloseIcon } from '../../assets/ico-close-24.svg'\r\nimport { validateAdmin } from '../../state/menu/actions'\r\n// import { Link } from 'react-router-dom'\r\n\r\nexport const Settings = props => {\r\n  // const comment = useSelector(getComment)\r\n  // const tableNum = useSelector(getTableNum)\r\n  // const venueId = useSelector(getVenueId)\r\n  // const venue = useSelector(getVenueById)(venueId)\r\n  const [show, setShow] = useState(false)\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const dispatch = useDispatch()\r\n\r\n  const history = useHistory()\r\n\r\n  const handleLeftClick = () => {\r\n    history.push(`/`)\r\n  }\r\n  // console.log('[comment]', comment)\r\n  // const ordersInside = orders.filter(e => e.takeout === false).length\r\n  // const ordersTakeout = orders.filter(e => e.takeout === true).length\r\n\r\n  return (\r\n    <>\r\n      <div className={s.menuBar}>\r\n        <div onClick={handleLeftClick} className={s.left}>\r\n          <CloseIcon className={s.iconSvg} />\r\n        </div>\r\n        <div>Настройки</div>\r\n        <div></div>\r\n      </div>\r\n      <div style={{ alignItems: 'center' }} className={s.content}>\r\n        <div\r\n          className={s.row}\r\n          onClick={_ => setShow(!show)}\r\n          style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}\r\n        >\r\n          Вход для администратора\r\n        </div>\r\n        {show ? (\r\n          <input placeholder={'Email'} className={s.row} value={username} onChange={_ => setUsername(_.target.value)} />\r\n        ) : (\r\n          ''\r\n        )}\r\n        {show ? (\r\n          <input\r\n            placeholder={'password'}\r\n            type={'password'}\r\n            className={s.row}\r\n            value={password}\r\n            onChange={_ => setPassword(_.target.value)}\r\n          />\r\n        ) : (\r\n          ''\r\n        )}\r\n        {show && username.length > 0 ? (\r\n          <div\r\n            onClick={_ => {\r\n              dispatch(validateAdmin({ login: username, password }))\r\n            }}\r\n            className={s.login}\r\n          >\r\n            Войти\r\n          </div>\r\n        ) : (\r\n          ''\r\n        )}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useHistory, Link, useParams, Redirect } from 'react-router-dom'\r\nimport s from './ShoppingCart.module.scss'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { ReactComponent as SettingsIcon } from '../../assets/icons/SettingsButton.svg'\r\nimport {\r\n  getEvents,\r\n  getUsers,\r\n  getEventBySlug,\r\n  getRoutes,\r\n  getUserBySlug,\r\n  getIsAdmin,\r\n  getAges,\r\n  getOrganizations,\r\n  getDistricts\r\n} from '../../state/menu/selectors'\r\n\r\nimport { ReactComponent as CloseIcon } from '../../assets/ico-close-24.svg'\r\nimport { createUser } from '../../state/menu/actions'\r\nimport { postParticipant, postUser } from '../../api'\r\n// import { Link } from 'react-router-dom'\r\n\r\nexport const NewUser = props => {\r\n  const dispatch = useDispatch()\r\n\r\n  const history = useHistory()\r\n\r\n  const [search, setSearch] = useState('')\r\n  const { eventId, userId } = useParams()\r\n  const event = useSelector(getEventBySlug)(eventId)\r\n  const routes = useSelector(getRoutes)\r\n  const isAdmin = useSelector(getIsAdmin)\r\n  const ages = useSelector(getAges)\r\n  const [selectedAge, setAge] = useState(ages[0])\r\n  const organizations = useSelector(getOrganizations)\r\n  const [selectedOrg, setOrg] = useState(organizations[0])\r\n  const districts = useSelector(getDistricts)\r\n  const [selectedDist, setDist] = useState(districts[0])\r\n  const [name, setName] = useState('')\r\n  const [gender, setGender] = useState('male')\r\n\r\n  const handleLeftClick = () => {\r\n    history.push(`/settings`)\r\n  }\r\n\r\n  const handleCenterClick = () => {\r\n    history.push(`/event/${eventId}`)\r\n  }\r\n\r\n  const filterRoutes = routes.filter(r => r.name.indexOf(search) >= 0)\r\n\r\n  if (isAdmin === false) {\r\n    console.log('fail login')\r\n    return <Redirect to='/' />\r\n  }\r\n  return (\r\n    <>\r\n      <div className={s.menuBar}>\r\n        <div onClick={handleCenterClick} className={s.left}>\r\n          <CloseIcon className={s.iconSvg} />\r\n        </div>\r\n        <div>Новый участник</div>\r\n        <div></div>\r\n      </div>\r\n      <div className={s.content}>\r\n        {/* <input value={search} onChange={e => setSearch(e.target.value)} placeholder={'Поиск трассы'} /> */}\r\n        <div className={s.card}>\r\n          <div>Select age</div>\r\n          <select\r\n            value={selectedAge.slug}\r\n            onChange={e => {\r\n              setAge(ages.filter(age => age.slug === e.target.value)[0])\r\n            }}\r\n          >\r\n            <option disabled>Select age</option>\r\n            {ages.map(age => (\r\n              <option key={age.slug} value={age.slug}>\r\n                {age.age}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <div>Select organization</div>\r\n          <select\r\n            value={selectedOrg.slug}\r\n            onChange={e => {\r\n              setOrg(organizations.filter(age => age.slug === e.target.value)[0])\r\n            }}\r\n          >\r\n            <option disabled>Select organization</option>\r\n            {organizations.map(age => (\r\n              <option key={age.slug} value={age.slug}>\r\n                {age.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <div>Select district</div>\r\n          <select\r\n            value={selectedDist.slug}\r\n            onChange={e => {\r\n              setDist(districts.filter(age => age.slug === e.target.value)[0])\r\n            }}\r\n          >\r\n            <option disabled>Select district</option>\r\n            {districts.map(age => (\r\n              <option key={age.slug} value={age.slug}>\r\n                {age.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <div>Select gender</div>\r\n          <select\r\n            value={gender}\r\n            onChange={e => {\r\n              setGender(e.target.value)\r\n            }}\r\n          >\r\n            <option disabled>Select gender</option>\r\n            <option value={'female'}>Девочка</option>\r\n            <option value={'male'}>Мальчик</option>\r\n          </select>\r\n          <div>Input name</div>\r\n          <input placeholder='Input name' value={name} onChange={e => setName(e.target.value)} />\r\n          {/* <div className={s.miniCard}>\r\n            <div>Трасса</div>\r\n            <div>Баллы</div>\r\n            <div>Попыток</div>\r\n          </div> */}\r\n\r\n          <div\r\n            onClick={_ => {\r\n              const newUser = {\r\n                name,\r\n                groupAge: selectedAge.slug,\r\n                district: selectedDist.slug,\r\n                organization: selectedOrg.slug,\r\n                event: eventId,\r\n                gender,\r\n                scores: event.routes.map(r => {\r\n                  return {\r\n                    routeSlug: r,\r\n                    score: 0,\r\n                    attempt: 0\r\n                  }\r\n                })\r\n              }\r\n              postUser(dispatch, newUser)\r\n              // dispatch(createUser(newUser))\r\n              // postParticipant(dispatch, { user: localUser, slug: eventId })\r\n              history.push(`/event/${eventId}`)\r\n            }}\r\n            className={s.login}\r\n          >\r\n            Обновить\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport store from './state/store'\r\nimport './index.css'\r\nimport { App } from './App'\r\nimport * as serviceWorker from './serviceWorker'\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\n\r\nReactDOM.render(\r\n  <Provider store={store.store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\nserviceWorker.unregister()\r\n\r\nwindow.history.scrollRestoration = 'manual'\r\n\r\n// Experimental: disable pinch to zoom in Safari\r\ndocument.addEventListener('gesturestart', function(e) {\r\n  e.preventDefault()\r\n})\r\n\r\n// Experimental: disable double tap to zoom in Safari\r\ndocument.getElementById('root').addEventListener('click', () => {})\r\n","import React from 'react'\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport { Home } from './components/ShoppingCart/Home'\r\nimport { Users } from './components/ShoppingCart/Users'\r\nimport { Event } from './components/ShoppingCart/Event'\r\nimport { UserEvent } from './components/ShoppingCart/UserEvent'\r\nimport { Settings } from './components/ShoppingCart/Settings'\r\nimport { NewUser } from './components/ShoppingCart/NewUser'\r\nimport { useFetchEvents, useOrdersWebsocket } from './api'\r\n\r\nexport const App = props => {\r\n  console.log('app')\r\n  useFetchEvents()\r\n  useOrdersWebsocket()\r\n\r\n  return (\r\n    <>\r\n      <Router>\r\n        <Route exact path='/' component={Home} />\r\n        <Route exact path='/event/:eventId' component={Event} />\r\n        <Route exact path='/event/:eventId/newUser' component={NewUser} />\r\n        <Route exact path='/event/:eventId/user/:userId' component={UserEvent} />\r\n        <Route exact path='/user/:userId' component={Home} />\r\n        <Route exact path='/users' component={Users} />\r\n        <Route exact path='/route/:routeId' component={Home} />\r\n        <Route exact path='/sector/:sectorId' component={Home} />\r\n        <Route path='/register' component={Home} />\r\n        <Route path='/runner' component={Home} />\r\n        <Route path='/dashboard' component={Home} />\r\n        <Route path='/settings' component={Settings} />\r\n      </Router>\r\n    </>\r\n  )\r\n}\r\n"],"sourceRoot":""}